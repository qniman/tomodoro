# üîß Install.sh v3.1 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ bootstrap/cache

## –ù–æ–≤–∞—è –æ—à–∏–±–∫–∞, –Ω–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–°—Ç–∞—Ç—É—Å**: üî¥ –ö–†–ò–¢–ò–ß–ù–û ‚Äî Composer –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ post-autoload-dump  
**–õ–æ–≥ –æ—à–∏–±–∫–∏**:
```
The /home/qsi/tomodoro/bootstrap/cache directory must be present and writable.

Script @php artisan package:discover --ansi handling the post-autoload-dump 
event returned with error code 1
```

### –ü—Ä–∏—á–∏–Ω–∞

Composer –≤—ã–ø–æ–ª–Ω—è–µ—Ç post-autoload-dump —Å–∫—Ä–∏–ø—Ç—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –û–¥–∏–Ω –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤ (`php artisan package:discover`) —Ç—Ä–µ–±—É–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `bootstrap/cache`, –∫–æ—Ç–æ—Ä–∞—è:

1. –ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ò–ª–∏ –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ git (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ .gitignore)
- –°–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –µ—ë –≤–æ –≤—Ä–µ–º—è `composer install`
- –ù–æ —É composer –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –†–µ—à–µ–Ω–∏–µ –≤ v3.1

–°–æ–∑–¥–∞–µ–º –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ Laravel –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ **–î–û** –∑–∞–ø—É—Å–∫–∞ composer:

```bash
# –°–æ–∑–¥–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p bootstrap/cache
mkdir -p storage/app
mkdir -p storage/logs
mkdir -p storage/framework/{cache,sessions,views}
mkdir -p database

# –£–±–µ–¥–∏–º—Å—è —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
chmod -R 755 bootstrap storage database 2>/dev/null || true
```

---

## –ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è

| –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|
| `bootstrap/cache` | –ö—ç—à bootstrap –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `storage/app` | –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ |
| `storage/logs` | –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `storage/framework/cache` | –ö—ç—à —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ |
| `storage/framework/sessions` | –°–µ—Å—Å–∏–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è file driver) |
| `storage/framework/views` | –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ views |
| `database` | SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |

---

## –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ v3.1

1. ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–µ—Ä—Å–∏—é PHP (8.2, 8.3, 8.4+)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (xml, dom, curl, mbstring, zip)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Node.js –≤–µ—Ä—Å–∏—é (20+)
4. ‚úÖ **–°–æ–∑–¥–∞—Ç—å –≤—Å—ë –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Laravel** ‚Üê –ù–û–í–û–ï
5. ‚úÖ composer install
6. ‚úÖ npm install
7. ‚úÖ –°–æ–∑–¥–∞—Ç—å .env
8. ‚úÖ php artisan key:generate
9. ‚úÖ php artisan migrate
10. ‚úÖ npm run build
11. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ v3.1

```bash
chmod +x install.sh
./install.sh
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –î–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la bootstrap/cache
ls -la storage/app
ls -la storage/logs
ls -la database

# –ò –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
ls -ld bootstrap storage database
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: drwxr-xr-x –∏–ª–∏ 755
```

---

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

| –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|--------|----------|
| v2.0 | –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, set -e, trap |
| v3.0 | PHP –≤–µ—Ä—Å–∏—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, Node.js –≤–µ—Ä—Å–∏—è, PIPESTATUS |
| v3.1 | **–°–æ–∑–¥–∞–Ω–∏–µ bootstrap/cache –∏ storage –ø–µ—Ä–µ–¥ composer** ‚Üê –ù–û–í–û–ï |

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ v3.1 –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é  
**–î–∞—Ç–∞**: 29 —è–Ω–≤–∞—Ä—è 2024 –≥.
